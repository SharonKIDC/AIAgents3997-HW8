# Residential Complex Tenant Management System
# Application Configuration

# Building Configuration
# As per requirements: 11 (17 apts), 13 (24 apts), 15 (24 apts), 17 (17 apts)
buildings:
  - number: 11
    total_apartments: 17
    floors:
      - level: 0
        apartments: [1, 2]
      - level: 1
        apartments: [3, 4]
      - level: 2
        apartments: [5, 6]
      - level: 3
        apartments: [7, 8]
      - level: 4
        apartments: [9, 10]
      - level: 5
        apartments: [11, 12]
      - level: 6
        apartments: [13, 14]
      - level: 7
        apartments: [15, 16]
      - level: 8
        apartments: [17]
  - number: 13
    total_apartments: 24
    floors:
      - level: 0
        apartments: [1, 2]
      - level: 1
        apartments: [3, 4]
      - level: 2
        apartments: [5, 6, 7]
      - level: 3
        apartments: [8, 9, 10]
      - level: 4
        apartments: [11, 12, 13]
      - level: 5
        apartments: [14, 15, 16]
      - level: 6
        apartments: [17, 18, 19]
      - level: 7
        apartments: [20, 21, 22]
      - level: 8
        apartments: [23, 24]
  - number: 15
    total_apartments: 24
    floors:
      - level: 0
        apartments: [1, 2]
      - level: 1
        apartments: [3, 4]
      - level: 2
        apartments: [5, 6, 7]
      - level: 3
        apartments: [8, 9, 10]
      - level: 4
        apartments: [11, 12, 13]
      - level: 5
        apartments: [14, 15, 16]
      - level: 6
        apartments: [17, 18, 19]
      - level: 7
        apartments: [20, 21, 22]
      - level: 8
        apartments: [23, 24]
  - number: 17
    total_apartments: 17
    floors:
      - level: 0
        apartments: [1, 2]
      - level: 1
        apartments: [3, 4]
      - level: 2
        apartments: [5, 6]
      - level: 3
        apartments: [7, 8]
      - level: 4
        apartments: [9, 10]
      - level: 5
        apartments: [11, 12]
      - level: 6
        apartments: [13, 14]
      - level: 7
        apartments: [15, 16]
      - level: 8
        apartments: [17]

# MCP Server Configuration
mcp_server:
  host: ${MCP_SERVER_HOST}
  port: ${MCP_SERVER_PORT}
  max_connections: 100
  timeout_seconds: 30
  enable_cors: true
  allowed_origins:
    - http://localhost:3000
    - http://localhost:8000

# Database Configuration
database:
  type: excel
  path: ${EXCEL_DATABASE_PATH}
  backup_enabled: true
  backup_interval_hours: 24
  backup_path: ./data/backups/

# Web UI Configuration
web_ui:
  api_base_url: ${REACT_APP_API_BASE_URL}
  environment: ${REACT_APP_ENVIRONMENT}
  session_timeout_minutes: 30
  pagination_page_size: 20

# AI Agent Configuration
ai_agent:
  provider: ${AI_MODEL_PROVIDER}
  model_name: ${AI_MODEL_NAME}
  max_tokens: 4000
  temperature: 0.7
  report_formats:
    - markdown
    - pdf
  output_directory: ./reports/

# WhatsApp Integration
whatsapp:
  enabled: ${WHATSAPP_API_ENABLED}
  api_url: https://api.whatsapp.com/v1
  rate_limit_per_minute: 10

# Logging Configuration
logging:
  level: ${LOG_LEVEL}
  file_path: ${LOG_FILE_PATH}
  max_file_size_mb: 10
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Security Configuration
security:
  jwt_expiration_hours: ${JWT_EXPIRATION_HOURS}
  password_min_length: 8
  session_timeout_minutes: 30
  max_login_attempts: 5
  lockout_duration_minutes: 15

# Feature Flags
features:
  enable_whatsapp_integration: false
  enable_parking_management: true
  enable_ai_reports: true
  enable_historical_data: true

# Tenant Registration Validation Rules
tenant_registration:
  # Phone number validation
  phone:
    min_length: 9
    max_length: 15
    pattern: "^[0-9\\-\\+]+$"
    pattern_description: "Phone must contain only digits, dashes, and plus sign"

  # Name validation
  name:
    min_length: 2
    max_length: 50
    pattern: "^[a-zA-Z\\u0590-\\u05FF\\s\\-']+$"
    pattern_description: "Name must contain only letters, spaces, hyphens, and apostrophes"

  # Family members limits
  family_members:
    # Maximum members allowed in WhatsApp group (excluding main tenant)
    max_whatsapp_members: 2
    # Maximum members allowed for PalGate access (excluding main tenant)
    max_palgate_members: 4
    # Main tenant is always included and cannot be disabled
    main_tenant_always_included: true

  # Vehicle plate validation (for PalGate)
  vehicle_plate:
    max_length: 10
    pattern: "^[0-9\\-]+$"
    pattern_description: "Vehicle plate must contain only digits and dashes"
